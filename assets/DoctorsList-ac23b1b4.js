import{r,B as u,y as s,H as l,E as p,I as o,J as m}from"./index-6dea2d97.js";import{L as f}from"./Layout-b7a1a0b8.js";import{h as j}from"./index-9ff58676.js";import{P as g,C as y}from"./index.esm-526f7bc3.js";import{F as N}from"./index.esm-0601f408.js";import{G as D}from"./index.esm-c72760c5.js";import{T as I}from"./Table-35035910.js";import"./index-df3cf0c8.js";import"./motion-e42cf248.js";import"./Dropdown-d8e34334.js";import"./index-bfe95ec0.js";import"./debounce-1bcab88e.js";function F(){const[d,h]=r.useState([]),e=u(),c=async()=>{try{e(l());const a=await p.get("/api/admin/get-all-doctors");e(o()),a.data.success&&h(a.data.data)}catch{e(o())}},n=async(a,t)=>{try{e(l());const i=await p.post("/api/admin/change-doctor-account-status",{doctorId:a._id,userId:a.userId,status:t});e(o()),i.data.success&&(m.success(i.data.message),c())}catch{m.error("Error changing doctor account status"),e(o())}};r.useEffect(()=>{c()},[]);const x=[{title:"Name",dataIndex:"name",render:(a,t)=>s.jsxs("span",{children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})},{title:"Phone",dataIndex:"phoneNumber",render:(a,t)=>s.jsxs("span",{style:{color:"#0087BA"},children:[s.jsx(g,{style:{fontSize:20}})," ",t==null?void 0:t.phoneNumber]})},{title:"Created At",dataIndex:"createdAt",render:a=>s.jsxs("span",{children:[s.jsx(N,{style:{fontSize:20,marginRight:8}}),j(a.createdAt).format("DD-MM-YYYY")]})},{title:"status",dataIndex:"status",render:(a,t)=>s.jsx("span",{children:s.jsx(y,{status:t==null?void 0:t.status})})},{title:"Actions",dataIndex:"actions",render:(a,t)=>s.jsxs("div",{className:"d-flex",children:[t.status==="pending"&&s.jsx("h1",{className:"anchor",onClick:()=>n(t,"approved"),children:"Approve"}),t.status==="approved"&&s.jsx("h1",{className:"anchor",onClick:()=>n(t,"blocked"),children:"Block"}),t.status==="blocked"&&s.jsx("h1",{className:"anchor",onClick:()=>n(t,"approved"),children:"Approve"})]})}];return s.jsxs(f,{children:[s.jsxs("h1",{style:{color:"#0087ba"},className:"page-header",children:[s.jsx(D,{})," Doctors List"]}),s.jsx("hr",{}),s.jsx(I,{columns:x,dataSource:d.reverse()})]})}export{F as default};
