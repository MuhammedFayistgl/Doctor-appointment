import{n as x,aA as D,r as c,o as y,m as j,l as r,I as n,A as m,J as a,L as e}from"./index-97e907e5.js";import{L as k}from"./Layout-0132f0f6.js";import{D as w}from"./DoctorForm-75579c4d.js";import{h as d}from"./moment-fbc5633a.js";import"./index-b8dd28ef.js";import"./index-40a788b9.js";import"./motion-32b3f91a.js";import"./index-997c21e6.js";import"./index-2274756a.js";function b(){const{user:p}=x(o=>o.user),u=D(),[i,f]=c.useState(null),s=y(),g=j(),l=async o=>{try{s(n());const t=await m.post("/api/doctor/update-doctor-profile",{token:document.cookie,...o,userId:p._id,timings:[d(o.timings[0]).format("HH:mm"),d(o.timings[1]).format("HH:mm")]});s(a()),t.data.success?(e.success(t.data.message),g("/")):e.error(t.data.message)}catch{s(a()),e.error("Something went wrong")}},h=async()=>{try{s(n());const o=await m.post("/api/doctor/get-doctor-info-by-user-id",{userId:u.userId,token:document.cookie});s(a()),o.data.success&&f(o.data.data)}catch(o){console.log(o),s(a())}};return c.useEffect(()=>{h()},[]),r.jsxs(k,{children:[r.jsx("h1",{className:"page-title",children:"Doctor Profile"}),r.jsx("hr",{}),i&&r.jsx(w,{onFinish:l,initivalValues:i})]})}export{b as default};
