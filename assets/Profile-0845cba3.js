import{A as x,V as y,r as c,B as D,z as j,y as r,H as n,E as m,I as a,J as i}from"./index-b2a666cf.js";import{L as w}from"./Layout-bd8094c8.js";import{D as H}from"./DoctorForm-52ba2630.js";import{h as d}from"./index-bf82f3b6.js";import"./index-d42954e0.js";import"./motion-95c33622.js";import"./index-d2dcc0c0.js";import"./index-b86c7ba0.js";function N(){const{user:e}=x(o=>o.userSlice),p=y(),[u,f]=c.useState(null),s=D(),g=j(),h=async o=>{try{s(n());const t=await m.post("/api/doctor/update-doctor-profile",{...o,userId:e==null?void 0:e._id,timings:[d(o.timings[0]).format("HH:mm"),d(o.timings[1]).format("HH:mm")]});s(a()),t.data.success?(i.success(t.data.message),g("/")):i.error(t.data.message)}catch{s(a()),i.error("Something went wrong")}},l=async()=>{try{s(n());const o=await m.post("/api/doctor/get-doctor-info-by-user-id",{userId:p.userId,token:document.cookie});s(a()),o.data.success&&f(o.data.data)}catch(o){console.log(o),s(a())}};return c.useEffect(()=>{l()},[]),r.jsxs(w,{children:[r.jsx("h1",{className:"page-title",children:"Doctor Profile"}),r.jsx("hr",{}),u&&r.jsx(H,{onFinish:h})]})}export{N as default};
