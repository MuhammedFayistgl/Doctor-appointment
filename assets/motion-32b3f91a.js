import{bc as B,bd as $,be as j,bf as q,r as n,M as A,a as F}from"./index-97e907e5.js";import{k as K,t as V}from"./index-40a788b9.js";import{s as X,d as Y,q as D,t as G}from"./Layout-0132f0f6.js";var c=new Map;function J(e){e.forEach(function(t){var r,o=t.target;(r=c.get(o))===null||r===void 0||r.forEach(function(i){return i(o)})})}var S=new K(J);function Q(e,t){c.has(e)||(c.set(e,new Set),S.observe(e)),c.get(e).add(t)}function U(e,t){c.has(e)&&(c.get(e).delete(t),c.get(e).size||(S.unobserve(e),c.delete(e)))}var Z=function(e){B(r,e);var t=$(r);function r(){return j(this,r),t.apply(this,arguments)}return q(r,[{key:"render",value:function(){return this.props.children}}]),r}(n.Component),b=n.createContext(null);function ee(e){var t=e.children,r=e.onBatchResize,o=n.useRef(0),i=n.useRef([]),a=n.useContext(b),l=n.useCallback(function(d,u,f){o.current+=1;var v=o.current;i.current.push({size:d,element:u,data:f}),Promise.resolve().then(function(){v===o.current&&(r==null||r(i.current),i.current=[])}),a==null||a(d,u,f)},[r,a]);return n.createElement(b.Provider,{value:l},t)}function re(e,t){var r=e.children,o=e.disabled,i=n.useRef(null),a=n.useRef(null),l=n.useContext(b),d=typeof r=="function",u=d?r(i):r,f=n.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!d&&n.isValidElement(u)&&X(u),E=v?u.ref:null,N=n.useMemo(function(){return Y(E,i)},[E,i]),H=function(){return D(i.current)||D(a.current)};n.useImperativeHandle(t,function(){return H()});var y=n.useRef(e);y.current=e;var z=n.useCallback(function(s){var w=y.current,_=w.onResize,T=w.data,k=s.getBoundingClientRect(),p=k.width,R=k.height,h=s.offsetWidth,g=s.offsetHeight,x=Math.floor(p),L=Math.floor(R);if(f.current.width!==x||f.current.height!==L||f.current.offsetWidth!==h||f.current.offsetHeight!==g){var M={width:x,height:L,offsetWidth:h,offsetHeight:g};f.current=M;var I=h===Math.round(p)?p:h,P=g===Math.round(R)?R:g,W=A(A({},M),{},{offsetWidth:I,offsetHeight:P});l==null||l(W,s,T),_&&Promise.resolve().then(function(){_(W,s)})}},[]);return n.useEffect(function(){var s=H();return s&&!o&&Q(s,z),function(){return U(s,z)}},[i.current,o]),n.createElement(Z,{ref:a},v?n.cloneElement(u,{ref:N}):u)}var te=n.forwardRef(re),ne="rc-observer-key";function ie(e,t){var r=e.children,o=typeof r=="function"?[r]:V(r);return o.map(function(i,a){var l=(i==null?void 0:i.key)||"".concat(ne,"-").concat(a);return n.createElement(te,F({},e,{key:l,ref:a===0?t:void 0}),i)})}var oe=n.forwardRef(ie);oe.Collection=ee;var m=function(){return{height:0,opacity:0}},O=function(t){var r=t.scrollHeight;return{height:r,opacity:1}},ae=function(t){return{height:t?t.offsetHeight:0}},C=function(t,r){return(r==null?void 0:r.deadline)===!0||r.propertyName==="height"},ce={motionName:"ant-motion-collapse",onAppearStart:m,onEnterStart:m,onAppearActive:O,onEnterActive:O,onLeaveStart:ae,onLeaveActive:m,onAppearEnd:C,onEnterEnd:C,onLeaveEnd:C,motionDeadline:500};G("bottomLeft","bottomRight","topLeft","topRight");var le=function(t){return t!==void 0&&(t==="topLeft"||t==="topRight")?"slide-down":"slide-up"},de=function(t,r,o){return o!==void 0?o:"".concat(t,"-").concat(r)};export{oe as R,le as a,ce as c,de as g};
